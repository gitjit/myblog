<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=content-type content="text/html"><meta name=viewport content="width=device-width,initial-scale=1"><title itemprop=name>.Net Assemblies | Jithesh</title>
<meta property="og:title" content=".Net Assemblies | Jithesh"><meta name=twitter:title content=".Net Assemblies | Jithesh"><meta itemprop=name content=".Net Assemblies | Jithesh"><meta name=application-name content=".Net Assemblies | Jithesh"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:locale" content="en-us"><meta name=language content="en-us"><link rel=alternate hreflang=en-us href=https://jithesh.io/posts/archives/dotnet-assemblies/ title=English><meta property="og:type" content="article"><meta property="og:article:published_time" content=2011-04-01T00:00:00Z><meta property="article:published_time" content=2011-04-01T00:00:00Z><meta property="og:url" content="https://jithesh.io/posts/archives/dotnet-assemblies/"><meta property="og:article:author" content="Jithesh Chandrasekharan"><meta property="article:author" content="Jithesh Chandrasekharan"><meta name=author content="Jithesh Chandrasekharan"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":".Net Assemblies","author":{"@type":"Person","name":""},"datePublished":"2011-04-01","description":"","wordCount":482,"mainEntityOfPage":"True","dateModified":"2011-04-01","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"Jithesh"}}</script><meta name=generator content="Hugo 0.134.0"><meta property="og:url" content="https://jithesh.io/posts/archives/dotnet-assemblies/"><meta property="og:site_name" content="Jithesh"><meta property="og:title" content=".Net Assemblies"><meta property="og:description" content="Managed code is distributed in Assemblies. Assemblies
Acts as scoping boundary for types Assigns location independent names Provides versioning support When you mark a type as public, its visible for a code outside this assembly. If you omit the access modifier then its treated as internal. An internal type is visible only with in that assembly. A type name is qualified by the assembly name too. That is why two types under same namespace in two different assemblies is treated as different type."><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-04-01T00:00:00+00:00"><meta property="article:modified_time" content="2011-04-01T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content=".Net Assemblies"><meta name=twitter:description content="Managed code is distributed in Assemblies. Assemblies
Acts as scoping boundary for types Assigns location independent names Provides versioning support When you mark a type as public, its visible for a code outside this assembly. If you omit the access modifier then its treated as internal. An internal type is visible only with in that assembly. A type name is qualified by the assembly name too. That is why two types under same namespace in two different assemblies is treated as different type."><link rel=canonical href=https://jithesh.io/posts/archives/dotnet-assemblies/><link rel=stylesheet href=https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css><link rel=stylesheet href=/css/copy-code.css><script src=/js/copy-code.js></script><link href=/style.min.da54ed9132d4ba2c4d0207a1ff9b3f2dd73aeec7858814832b1bb2bb3d91ba97.css rel=stylesheet><link href=/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css rel=stylesheet><link href=/sass/custom.min.cf467393bd3e3fc9a644f66d33a0a37039ba0d42650e5bc986be04542577c0a0.css rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/icons/favicon-16x16.png><link rel=mask-icon href=/icons/safari-pinned-tab.svg><link rel="shortcut icon" href=/favicon.ico><link rel=manifest href=https://jithesh.io/site.webmanifest><meta name=msapplication-config content="/browserconfig.xml"><meta name=msapplication-TileColor content="#2d89ef"><meta name=theme-color content="#434648"><link rel=icon type=image/svg+xml href=/icons/favicon.svg></head><body data-theme class=notransition><script src=/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script><div class=navbar role=navigation><nav class=menu aria-label="Main Navigation"><a href=https://jithesh.io/ class=logo><svg width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><title>Home</title><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
</a><input type=checkbox id=menu-trigger class=menu-trigger>
<label for=menu-trigger><span class=menu-icon><svg width="25" height="25" stroke="currentcolor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7H3.40726"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M.5 12.5V1.5c0-.552285.447715-1 1-1h11C13.0523.5 13.5.947715 13.5 1.5v11C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C.947715 13.5.5 13.0523.5 12.5z"/></svg></span></label><div class=trigger><ul class=trigger-container><li><a class=menu-link href=/>Home</a></li><li><a class="menu-link active" href=/posts/>Posts</a></li><li><a class=menu-link href=/categories/>Tags</a></li><li><a class=menu-link href=/pages/about/>About</a></li><li class=menu-separator><span>|</span></li></ul><a id=mode href=#><svg class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg><svg class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg></a></div></nav></div><div class="wrapper post"><main class=page-content aria-label=Content><article><header class=header><h1 class=header-title>.Net Assemblies</h1><div class=post-meta><time datetime=2011-04-01T00:00:00+00:00 itemprop=datePublished>Apr 1, 2011</time></div></header><div class=page-content><p>Managed code is distributed in Assemblies. Assemblies</p><ul><li>Acts as scoping boundary for types</li><li>Assigns location independent names</li><li>Provides versioning support</li></ul><p>When you mark a type as public, its visible for a code outside this assembly. If you omit the access modifier
then its treated as internal. An internal type is visible only with in that assembly. A type name is qualified
by the assembly name too. That is why two types under same namespace in two different assemblies is treated as
different type.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>foo</span><span class=p>.</span><span class=n>dll</span>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>A</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>Calc</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>Type</span> <span class=n>name</span> <span class=p>:</span> <span class=s>&#34;A.Calc,foo&#34;</span>
</span></span></code></pre></div><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>bar</span><span class=p>.</span><span class=n>dll</span>
</span></span><span class=line><span class=cl><span class=k>namespace</span> <span class=nn>A</span> 
</span></span><span class=line><span class=cl><span class=p>{</span>
</span></span><span class=line><span class=cl>    <span class=kd>public</span> <span class=k>class</span> <span class=nc>Calc</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=p>...</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span><span class=line><span class=cl><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=n>Type</span> <span class=n>name</span> <span class=p>:</span> <span class=s>&#34;A.Calc,bar&#34;</span> 
</span></span></code></pre></div><p>We can use <code>GetType()</code> to see the fully qualfied name of a type as shown below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl> <span class=k>class</span> <span class=nc>Program</span>
</span></span><span class=line><span class=cl>    <span class=p>{</span>
</span></span><span class=line><span class=cl>        <span class=kd>static</span> <span class=k>void</span> <span class=n>Main</span><span class=p>(</span><span class=kt>string</span><span class=p>[]</span> <span class=n>args</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=p>{</span>
</span></span><span class=line><span class=cl>            <span class=kt>string</span> <span class=n>url</span> <span class=p>=</span> <span class=s>&#34;http://www.google.com&#34;</span><span class=p>;</span>
</span></span><span class=line><span class=cl>            <span class=n>Uri</span> <span class=n>uri</span> <span class=p>=</span> <span class=k>new</span> <span class=n>Uri</span><span class=p>(</span><span class=n>url</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>url</span><span class=p>.</span><span class=n>GetType</span><span class=p>().</span><span class=n>AssemblyQualifiedName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=n>uri</span><span class=p>.</span><span class=n>GetType</span><span class=p>().</span><span class=n>AssemblyQualifiedName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>            <span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>Program</span><span class=p>).</span><span class=n>AssemblyQualifiedName</span><span class=p>);</span>
</span></span><span class=line><span class=cl>        <span class=p>}</span>
</span></span><span class=line><span class=cl>    <span class=p>}</span>
</span></span></code></pre></div><p>outputs :</p><pre tabindex=0><code>System.String, mscorlib, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
System.Uri, System, Version=4.0.0.0, Culture=neutral, PublicKeyToken=b77a5c561934e089
App.Program, App, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null
</code></pre><p>The output shows that &lsquo;string&rsquo; and &lsquo;Uri&rsquo; are types in same namespace but diffrent assembly. &lsquo;string&rsquo; resides
in <code>mscorlib</code> while latter in <code>system</code> assembly. In addition an Assembly name contains a version, culture and token.
culture is mostly used for assemblies that hold localized strings.</p><p>ILDASM is a handy tool to view assembly level information. For example you can see the dependent assemblies of a
particular assembly as shown below. In this case you can see this assembly depends on mscorlib, system and Lib assembly.</p><img src=2017-04-26-17-50-40.png class=img-responsive><h3 id=assembly-names>Assembly Names</h3><p>Assemblies are classified into two types.</p><ul><li>Signed Assembly (Strong Named)</li><li>Non Signed Assembly</li></ul><p>Signed assemblies have a public key token associated with it, while other will have a null public key token as shown above.
In the example above, you can see mscorlib and system are signed assemblies while Lib is not. Signed assemblies are also
called Strong Named assembly. Based on these types the CLR assembly resolution and loading varies.</p><h3 id=simple-assembly-resolution>Simple Assembly Resolution</h3><p>For unsigned assemblies, assembly resolution is straight forward and following is the order in which CLR searches for a
particular assembly.</p><ul><li>Check hosting application directory (APPBASE) where executable resides.</li><li>Check subdirectory with same name as assembly to load. (check calc.dll in APPBASE\calc\calc.dll)</li><li>Check additional subdirectories specified in application config file. (eg hello.exe&rsquo;s config file is hello.exe.config)</li></ul><p>hello.exe.config is a copy of your &ldquo;App.config&rdquo; file that compiler generates when we build and copy to bin folder. Following
configuration in App.config will add notify compiler to consider subdirectory called &rsquo;libraries&rsquo; for assembly probing.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-xml data-lang=xml><span class=line><span class=cl><span class=cp>&lt;?xml version=&#34;1.0&#34; encoding=&#34;utf-8&#34; ?&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;configuration&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;startup&gt;</span> 
</span></span><span class=line><span class=cl>        <span class=nt>&lt;supportedRuntime</span> <span class=na>version=</span><span class=s>&#34;v4.0&#34;</span> <span class=na>sku=</span><span class=s>&#34;.NETFramework,Version=v4.5.2&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/startup&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;runtime&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;gcConcurrent</span> <span class=na>enabled=</span><span class=s>&#34;true&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;assemblyBinding</span> <span class=na>xmlns=</span><span class=s>&#34;urn:schemas-microsoft-com:asm.v1&#34;</span><span class=nt>&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;publisherPolicy</span> <span class=na>apply=</span><span class=s>&#34;yes&#34;</span> <span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>      <span class=nt>&lt;probing</span> <span class=na>privatePath=</span><span class=s>&#34;libraries&#34;</span><span class=nt>/&gt;</span>
</span></span><span class=line><span class=cl>    <span class=nt>&lt;/assemblyBinding&gt;</span>
</span></span><span class=line><span class=cl>  <span class=nt>&lt;/runtime&gt;</span>
</span></span><span class=line><span class=cl><span class=nt>&lt;/configuration&gt;</span>
</span></span></code></pre></div><p>You can make following call to determine from which location, the Assembly got resolved. &ldquo;Point&rdquo; is a
type defined in Lib assembly.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-csharp data-lang=csharp><span class=line><span class=cl><span class=n>Console</span><span class=p>.</span><span class=n>WriteLine</span><span class=p>(</span><span class=k>typeof</span><span class=p>(</span><span class=n>Point</span><span class=p>).</span><span class=n>Assembly</span><span class=p>.</span><span class=n>CodeBase</span><span class=p>);</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=n>output</span>
</span></span><span class=line><span class=cl><span class=p>------</span>
</span></span><span class=line><span class=cl><span class=n>file</span><span class=p>:</span><span class=cs>///D:/Git/Avial/C#/CS/clr-fundamentals/jit-compilation/App/bin/Debug/libraries/Lib.DLL</span>
</span></span></code></pre></div><p>Note : For signed assemblies the Assembly resolution takes a diffrent path.</p></div></article></main></div><footer class=footer><span class=footer_item></span>&nbsp;<div class=footer_social-icons><a href=https://github.com/gitjit target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://twitter.com/jitbytes target=_blank rel="noopener noreferrer me" title=Twitter><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg>
</a><a href=https://www.linkedin.com/in/jitheshc target=_blank rel="noopener noreferrer me" title=Linkedin><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></div><small class=footer_copyright>© 2024 Jithesh Chandrasekharan.</small></footer><script src=https://jithesh.io/js/main.min.4ee188e1744c19816e95a540b2650ed9f033ea0371e74eac8e717355cfca8741.js integrity="sha256-TuGI4XRMGYFulaVAsmUO2fAz6gNx506sjnFzVc/Kh0E="></script></body></html>