<!doctype html><html lang=en-us><head><meta charset=utf-8><meta http-equiv=content-type content="text/html"><meta name=viewport content="width=device-width,initial-scale=1"><title itemprop=name>Python : Instance representation and Access control | Jithesh</title>
<meta property="og:title" content="Python : Instance representation and Access control | Jithesh"><meta name=twitter:title content="Python : Instance representation and Access control | Jithesh"><meta itemprop=name content="Python : Instance representation and Access control | Jithesh"><meta name=application-name content="Python : Instance representation and Access control | Jithesh"><meta property="og:site_name" content><meta name=description content><meta itemprop=description content><meta property="og:description" content><meta name=twitter:description content><meta property="og:locale" content="en-us"><meta name=language content="en-us"><link rel=alternate hreflang=en-us href=https://jithesh.io/posts/archives/python-instance-representation-copy/ title=English><meta property="og:type" content="article"><meta property="og:article:published_time" content=2011-04-13T00:00:00Z><meta property="article:published_time" content=2011-04-13T00:00:00Z><meta property="og:url" content="https://jithesh.io/posts/archives/python-instance-representation-copy/"><meta property="og:article:author" content="Jithesh Chandrasekharan"><meta property="article:author" content="Jithesh Chandrasekharan"><meta name=author content="Jithesh Chandrasekharan"><script defer type=application/ld+json>{"@context":"http://schema.org","@type":"Article","headline":"Python : Instance representation and Access control","author":{"@type":"Person","name":""},"datePublished":"2011-04-13","description":"","wordCount":697,"mainEntityOfPage":"True","dateModified":"2011-04-13","image":{"@type":"imageObject","url":""},"publisher":{"@type":"Organization","name":"Jithesh"}}</script><meta name=generator content="Hugo 0.134.0"><meta property="og:url" content="https://jithesh.io/posts/archives/python-instance-representation-copy/"><meta property="og:site_name" content="Jithesh"><meta property="og:title" content="Python : Instance representation and Access control"><meta property="og:description" content="In python when we create an instance , the attributes are internally stored in a python dictionary. Dictionay plays a major part in internal representation of python objects. Let us consider a simple class Person as shown below.
class Person(object): def __init__(self, name, age, id ): self.name = name self.age = age self._id = id def get_lastname(self): return self.name.split(' ')[1] "><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2011-04-13T00:00:00+00:00"><meta property="article:modified_time" content="2011-04-13T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Python : Instance representation and Access control"><meta name=twitter:description content="In python when we create an instance , the attributes are internally stored in a python dictionary. Dictionay plays a major part in internal representation of python objects. Let us consider a simple class Person as shown below.
class Person(object): def __init__(self, name, age, id ): self.name = name self.age = age self._id = id def get_lastname(self): return self.name.split(' ')[1] "><link rel=canonical href=https://jithesh.io/posts/archives/python-instance-representation-copy/><link href=/style.min.da54ed9132d4ba2c4d0207a1ff9b3f2dd73aeec7858814832b1bb2bb3d91ba97.css rel=stylesheet><link href=/code-highlight.min.706d31975fec544a864cb7f0d847a73ea55ca1df91bf495fd12a177138d807cf.css rel=stylesheet><link href=/sass/custom.min.2529467044a4f8c090358d22b157be0ed200d5fc1c33839d45644d203b919c57.css rel=stylesheet><link rel=apple-touch-icon sizes=180x180 href=/icons/apple-touch-icon.png><link rel=icon type=image/png sizes=32x32 href=/icons/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/icons/favicon-16x16.png><link rel=mask-icon href=/icons/safari-pinned-tab.svg><link rel="shortcut icon" href=/favicon.ico><link rel=manifest href=https://jithesh.io/site.webmanifest><meta name=msapplication-config content="/browserconfig.xml"><meta name=msapplication-TileColor content="#2d89ef"><meta name=theme-color content="#434648"><link rel=icon type=image/svg+xml href=/icons/favicon.svg></head><body data-theme class=notransition><script src=/js/theme.min.8961c317c5b88b953fe27525839672c9343f1058ab044696ca225656c8ba2ab0.js integrity="sha256-iWHDF8W4i5U/4nUlg5ZyyTQ/EFirBEaWyiJWVsi6KrA="></script><div class=navbar role=navigation><nav class=menu aria-label="Main Navigation"><a href=https://jithesh.io/ class=logo><svg width="25" height="25" viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-home"><title>Home</title><path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z"/><polyline points="9 22 9 12 15 12 15 22"/></svg>
</a><input type=checkbox id=menu-trigger class=menu-trigger>
<label for=menu-trigger><span class=menu-icon><svg width="25" height="25" stroke="currentcolor" fill="none" viewBox="0 0 14 14"><title>Menu</title><path stroke-linecap="round" stroke-linejoin="round" d="M10.595 7H3.40726"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 3.51488H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M10.5096 10.4851H3.49301"/><path stroke-linecap="round" stroke-linejoin="round" d="M.5 12.5V1.5c0-.552285.447715-1 1-1h11C13.0523.5 13.5.947715 13.5 1.5v11C13.5 13.0523 13.0523 13.5 12.5 13.5H1.5C.947715 13.5.5 13.0523.5 12.5z"/></svg></span></label><div class=trigger><ul class=trigger-container><li><a class=menu-link href=/>Home</a></li><li><a class="menu-link active" href=/posts/>Posts</a></li><li><a class=menu-link href=/categories/>Tags</a></li><li><a class=menu-link href=/pages/about/>About</a></li><li class=menu-separator><span>|</span></li></ul><a id=mode href=#><svg class="mode-sunny" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>LIGHT</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg><svg class="mode-moon" width="21" height="21" viewBox="0 0 14 14" stroke-width="1"><title>DARK</title><g><circle cx="7" cy="7" r="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1=".5" x2="7" y2="2.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="2.4" x2="3.82" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1=".5" y1="7" x2="2.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="2.4" y1="11.6" x2="3.82" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="7" y1="13.5" x2="7" y2="11.5" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="11.6" x2="10.18" y2="10.18" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="13.5" y1="7" x2="11.5" y2="7" fill="none" stroke-linecap="round" stroke-linejoin="round"/><line x1="11.6" y1="2.4" x2="10.18" y2="3.82" fill="none" stroke-linecap="round" stroke-linejoin="round"/></g></svg></a></div></nav></div><div class="wrapper post"><main class=page-content aria-label=Content><article><header class=header><h1 class=header-title>Python : Instance representation and Access control</h1><div class=post-meta><time datetime=2011-04-13T00:00:00+00:00 itemprop=datePublished>Apr 13, 2011</time></div></header><div class=page-content><p>In python when we create an instance , the attributes are internally stored in a python
dictionary. Dictionay plays a major part in internal representation of python objects. Let us consider
a simple class <code>Person</code> as shown below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Person</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>age</span><span class=p>,</span> <span class=nb>id</span> <span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>age</span> <span class=o>=</span> <span class=n>age</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_id</span> <span class=o>=</span> <span class=nb>id</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>get_lastname</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>name</span><span class=o>.</span><span class=n>split</span><span class=p>(</span><span class=s1>&#39; &#39;</span><span class=p>)[</span><span class=mi>1</span><span class=p>]</span>
</span></span></code></pre></div><p>Now let us access its attributes using the dictionary as shown below..</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span> <span class=o>=</span> <span class=n>Person</span><span class=p>(</span><span class=s1>&#39;Jithesh Chandrasekharan&#39;</span><span class=p>,</span> <span class=mi>32</span><span class=p>,</span><span class=mi>1</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span><span class=o>.</span><span class=vm>__dict__</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Jithesh Chandrasekharan&#39;</span><span class=p>,</span> <span class=s1>&#39;_id&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;age&#39;</span><span class=p>:</span> <span class=mi>32</span><span class=p>}</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=s1>&#39;name&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;Jithesh Chandrasekharan&#39;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=s1>&#39;age&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=mi>32</span>
</span></span></code></pre></div><p>One major advantage(some times error prone) of this dictionary representation is that we can add attributes to an
object on the fly as shown below. In this case we are adding a new attribute on the instance.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span><span class=o>.</span><span class=n>spam</span> <span class=o>=</span> <span class=mi>2</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span><span class=o>.</span><span class=vm>__dict__</span>
</span></span><span class=line><span class=cl><span class=p>{</span><span class=s1>&#39;_id&#39;</span><span class=p>:</span> <span class=mi>1</span><span class=p>,</span> <span class=s1>&#39;name&#39;</span><span class=p>:</span> <span class=s1>&#39;Jithesh Chandrasekharan&#39;</span><span class=p>,</span> <span class=s1>&#39;spam&#39;</span><span class=p>:</span> <span class=mi>2</span><span class=p>,</span> <span class=s1>&#39;age&#39;</span><span class=p>:</span> <span class=mi>32</span><span class=p>}</span>
</span></span></code></pre></div><p>You can also delete instance variables as shown below..</p><p><code>>>> del p.spam</code></p><p>As you can see the instance <code>__dict__</code> holds only the attributes, so where are the methods ? Methods are part of
class representation and hence we can access methods through <code>class.__dict__</code> as shown below. Each instance holds
a <code>__class__</code> variable as shown below and class holds a <code>__dict__</code> which has method entries.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>p</span><span class=o>.</span><span class=vm>__class__</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=k>class</span> <span class=err>&#39;</span><span class=nc>oop</span><span class=o>.</span><span class=n>Person</span><span class=s1>&#39;&gt;</span>
</span></span></code></pre></div><p>So when you call p.<code>get_lastname()</code>. Python is first resolving the class from <code>__class__</code> variable of the instance,
then it will get method from the internal <code>__dict__</code> of the class as shown below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>Person</span><span class=o>.</span><span class=vm>__dict__</span>
</span></span><span class=line><span class=cl><span class=n>mappingproxy</span><span class=p>({</span><span class=s1>&#39;__dict__&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>attribute</span> <span class=s1>&#39;__dict__&#39;</span> <span class=n>of</span> <span class=s1>&#39;Person&#39;</span> <span class=n>objects</span><span class=o>&gt;</span><span class=p>,</span> <span class=s1>&#39;__init__&#39;</span><span class=p>:</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>function</span> <span class=n>Person</span><span class=o>.</span><span class=fm>__init__</span> <span class=n>at</span> <span class=mh>0x0000014087BD5488</span><span class=o>&gt;</span><span class=p>,</span> 
</span></span><span class=line><span class=cl><span class=s1>&#39;__weakref__&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>attribute</span> <span class=s1>&#39;__weakref__&#39;</span> <span class=n>of</span> <span class=s1>&#39;Person&#39;</span> <span class=n>objects</span><span class=o>&gt;</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;__module__&#39;</span><span class=p>:</span> <span class=s1>&#39;oop&#39;</span><span class=p>,</span> <span class=s1>&#39;__doc__&#39;</span><span class=p>:</span> <span class=kc>None</span><span class=p>,</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;get_lastname&#39;</span><span class=p>:</span> <span class=o>&lt;</span><span class=n>function</span> <span class=n>Person</span><span class=o>.</span><span class=n>get_lastname</span> <span class=n>at</span> <span class=mh>0x0000014087BD5510</span><span class=o>&gt;</span><span class=p>})</span>
</span></span></code></pre></div><p>Now it will get the method from the <code>__dict__</code> and calls the method passing instance as parameter.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>Person</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=s1>&#39;get_lastname&#39;</span><span class=p>]</span>
</span></span><span class=line><span class=cl><span class=o>&lt;</span><span class=n>function</span> <span class=n>Person</span><span class=o>.</span><span class=n>get_lastname</span> <span class=n>at</span> <span class=mh>0x0000014087BD5510</span><span class=o>&gt;</span>
</span></span><span class=line><span class=cl><span class=o>&gt;&gt;&gt;</span> <span class=n>Person</span><span class=o>.</span><span class=vm>__dict__</span><span class=p>[</span><span class=s1>&#39;get_lastname&#39;</span><span class=p>](</span><span class=n>p</span><span class=p>)</span>
</span></span><span class=line><span class=cl><span class=s1>&#39;Chandrasekharan&#39;</span>
</span></span></code></pre></div><h4 id=access-modifiers->Access Modifiers ?</h4><p>One of the biggest advantage here is flexibility, but it raises an important question when writing a
large program, how we can control access to these attributes. There is no notion of private/public
in python. It largely depends on naming conventions. So variables prefixed with underscore <code>_id</code> are
considered as private. This naming convention is applicable to methods too. But naming convention really
solves the problem ? Its not actually restricting any access. So let us see how we can implement some control
around attributes.</p><p>As a first step let us see how we can take ownership of an attribute using properties in Python.</p><p>Let us start with a simple Holding class as shown below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Holding</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>date</span><span class=p>,</span> <span class=n>shares</span><span class=p>,</span> <span class=n>price</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>date</span> <span class=o>=</span> <span class=n>date</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shares</span> <span class=o>=</span> <span class=n>shares</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>=</span> <span class=n>price</span>
</span></span><span class=line><span class=cl>        
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>shares</span><span class=o>*</span><span class=bp>self</span><span class=o>.</span><span class=n>price</span>
</span></span></code></pre></div><p>In this example, we want to ensure that <code>shares</code> should be an <code>int</code> and <code>price</code> should be <code>float</code>. In order
to enforce these restriction we can make these two attributes as property (<code>@property</code>) as shown below.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=k>class</span> <span class=nc>Holding</span><span class=p>(</span><span class=nb>object</span><span class=p>):</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=fm>__init__</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span> <span class=n>name</span><span class=p>,</span> <span class=n>date</span><span class=p>,</span> <span class=n>shares</span><span class=p>,</span> <span class=n>price</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>name</span> <span class=o>=</span> <span class=n>name</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>date</span> <span class=o>=</span> <span class=n>date</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>shares</span> <span class=o>=</span> <span class=n>shares</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>price</span> <span class=o>=</span> <span class=n>price</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>shares</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_shares</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@shares.setter</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>shares</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>new_shares</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>new_shares</span><span class=p>,</span><span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expecting an int !&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_shares</span> <span class=o>=</span> <span class=n>new_shares</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>price</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_price</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@price.setter</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>price</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>new_price</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>new_price</span><span class=p>,</span> <span class=nb>float</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expecting a float&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_price</span> <span class=o>=</span> <span class=n>new_price</span>
</span></span><span class=line><span class=cl>    
</span></span><span class=line><span class=cl>    <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>shares</span><span class=o>*</span><span class=bp>self</span><span class=o>.</span><span class=n>price</span>
</span></span></code></pre></div><p>So what we have done here is hiding the actual <code>price</code> and <code>shares</code> in private variable <code>_price</code> and <code>_shares</code>.
Then we made our <code>price</code> and <code>shares</code> as properties. So now the internal representation is as shown below. So
we encapsulated our shares and price attributes.</p><pre tabindex=0><code>
hld1 = Holding(&#39;JJJ&#39;,&#39;23-2-2222&#39;,22,33.00)
{&#39;name&#39;: &#39;JJJ&#39;, &#39;_shares&#39;: 22, &#39;date&#39;: &#39;23-2-2222&#39;, &#39;_price&#39;: 33.0}
</code></pre><p>This way we can have a type checking before setting the value. In this case we ensure that correct types are passed.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl> <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>shares</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>_shares</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl>    <span class=nd>@shares.setter</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>shares</span><span class=p>(</span><span class=bp>self</span><span class=p>,</span><span class=n>new_shares</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>if</span> <span class=ow>not</span> <span class=nb>isinstance</span><span class=p>(</span><span class=n>new_shares</span><span class=p>,</span><span class=nb>int</span><span class=p>):</span>
</span></span><span class=line><span class=cl>            <span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expecting an int !&#39;</span><span class=p>)</span>
</span></span><span class=line><span class=cl>        <span class=bp>self</span><span class=o>.</span><span class=n>_shares</span> <span class=o>=</span> <span class=n>new_shares</span>
</span></span></code></pre></div><p>Now this will raise an exception.Here we are passing a string for shares instead of int.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl><span class=n>hld1</span> <span class=o>=</span> <span class=n>Holding</span><span class=p>(</span><span class=s1>&#39;JJJ&#39;</span><span class=p>,</span><span class=s1>&#39;23-2-2222&#39;</span><span class=p>,</span><span class=s1>&#39;2232&#39;</span><span class=p>,</span><span class=mi>33</span><span class=p>)</span>
</span></span><span class=line><span class=cl>
</span></span><span class=line><span class=cl><span class=k>raise</span> <span class=ne>TypeError</span><span class=p>(</span><span class=s1>&#39;Expecting an int !&#39;</span><span class=p>)</span>
</span></span></code></pre></div><p>Now another important change we made here is to change our cost method to a property. This way
user can access <code>cost</code> method like a property.</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-python data-lang=python><span class=line><span class=cl>   <span class=nd>@property</span>
</span></span><span class=line><span class=cl>    <span class=k>def</span> <span class=nf>cost</span><span class=p>(</span><span class=bp>self</span><span class=p>):</span>
</span></span><span class=line><span class=cl>        <span class=k>return</span> <span class=bp>self</span><span class=o>.</span><span class=n>shares</span><span class=o>*</span><span class=bp>self</span><span class=o>.</span><span class=n>price</span>
</span></span></code></pre></div><p><em>Coding is fun enjoy&mldr;</em></p></div></article></main></div><footer class=footer><span class=footer_item></span>&nbsp;<div class=footer_social-icons><a href=https://github.com/gitjit target=_blank rel="noopener noreferrer me" title=Github><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M9 19c-5 1.5-5-2.5-7-3m14 6v-3.87a3.37 3.37.0 00-.94-2.61c3.14-.35 6.44-1.54 6.44-7A5.44 5.44.0 0020 4.77 5.07 5.07.0 0019.91 1S18.73.65 16 2.48a13.38 13.38.0 00-7 0C6.27.65 5.09 1 5.09 1A5.07 5.07.0 005 4.77 5.44 5.44.0 003.5 8.55c0 5.42 3.3 6.61 6.44 7A3.37 3.37.0 009 18.13V22"/></svg>
</a><a href=https://twitter.com/jitbytes target=_blank rel="noopener noreferrer me" title=Twitter><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9.0 01-3.14 1.53 4.48 4.48.0 00-7.86 3v1A10.66 10.66.0 013 4s-4 9 5 13a11.64 11.64.0 01-7 2c9 5 20 0 20-11.5a4.5 4.5.0 00-.08-.83A7.72 7.72.0 0023 3z"/></svg>
</a><a href=https://www.linkedin.com/in/jitheshc target=_blank rel="noopener noreferrer me" title=Linkedin><svg viewBox="0 0 24 24" fill="none" stroke="currentcolor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 016 6v7h-4v-7a2 2 0 00-2-2 2 2 0 00-2 2v7h-4v-7a6 6 0 016-6z"/><rect x="2" y="9" width="4" height="12"/><circle cx="4" cy="4" r="2"/></svg></a></div><small class=footer_copyright>© 2024 Jithesh Chandrasekharan.</small></footer><script src=https://jithesh.io/js/main.min.4ee188e1744c19816e95a540b2650ed9f033ea0371e74eac8e717355cfca8741.js integrity="sha256-TuGI4XRMGYFulaVAsmUO2fAz6gNx506sjnFzVc/Kh0E="></script></body></html>